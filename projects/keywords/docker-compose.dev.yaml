version: "3.9"

services:
  serve:
    build:
      context: ../../
      dockerfile: projects/keywords/serve/Dockerfile
      args:
        PROJECT: keywords
        COMPONENT: serve
      target: development
    ports:
      - "8888:8888"
    environment:
      DOCS_URL: /docs
    hostname: onclusive-ml
    networks: [onclusive-net]
  train:
    build:
      context: ../../
      dockerfile: projects/keywords/train/Dockerfile
      args:
        PROJECT: keywords
        COMPONENT: train
      target: development
    hostname: onclusive-ml
    networks: [onclusive-net]
  compile:
    build:
      context: ../../
      dockerfile: projects/keywords/compile/Dockerfile
      args:
        PROJECT: keywords
        COMPONENT: compile
      target: development
    hostname: onclusive-ml
    networks: [onclusive-net]

networks:
  onclusive-net: